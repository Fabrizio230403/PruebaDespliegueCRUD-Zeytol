<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Formulario Productos</title>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
 
</head>
<body>
	<div class="container mt-4">
		<div class="col-sm-6">
			<form th:action="@{/save}" th:object=${producto} method="POST"
				enctype="multipart/form-data">
				<div class="card">
					<div class="card-header">
						<h3>Módulo Producto</h3>
					</div>
					<div class="card-body">
					 <input type="hidden" th:field="*{id}" />
						<div class="form-group">
							<label>Nombre del Producto</label> <input th:field="*{nombre}"
								type="text" class="form-control" required />
						</div>					 
						<div class="form-group">
							<label>Descripcion</label> <input th:field="*{descripcion}" type="text"
								class="form-control" required />
						</div>
						<div class="form-group">
							<label>Precio</label> <input th:field="*{precio}"
								type="text" class="form-control" required />
						</div>
						<div class="form-group">
							<label>Stock</label> <input th:field="*{stock}" type="number"
								class="form-control" required />
						</div>
						<div class="form-group">
							<label>Categoria</label> <select th:field="*{categoria}"
								class="form-control" required>
								<option value="" hidden>Seleccione una categoría</option>
								<option value="L" th:selected="*{categoria == 'L'}">Laptops</option>
								<option value="A" th:selected="*{categoria == 'A'}">Audífonos
									</option>
							</select>
						</div>
						<div class="form-group">
							<label>Proveedor</label> <select th:field="*{proveedor}"
								class="form-control" required>
								<option value="" hidden>Seleccione un proveedor</option>
								<option value="N" th:selected="*{proveedor == 'N'}">Nike</option>
								<option value="A" th:selected="*{proveedor == 'A'}">Adidas
									</option>
							</select>
						</div>
						<div class="form-group">
							<label>Estado</label> <select th:field="*{estado}"
								class="form-control" required>
								<option value="" hidden>Seleccione un estado</option>
								<option value="A" th:selected="*{estado == 'A'}">Activo</option>
								<option value="I" th:selected="*{estado == 'I'}">Inactivo</option>
							</select>
						</div>
						 <div class="form-group">
					        <label for="foto">Foto</label>
							<input id="foto" name="foto" type="file" class="form-control" accept="image/*" onchange="previewImage()">
					    </div>
					     <!-- Mostrar la foto actual si existe -->
                       	 <div class="form-group">
                            <label>Foto Actual:</label>
                            <div>
                                <img th:if="${producto.imagenRuta != null}" th:src="@{${'/' + producto.imagenRuta}}" alt="Foto del Producto" class="rounded-circle img-fluid" style="width: 70px; height: 70px; object-fit: cover;" id="fotoPreview" />
                                <img th:if="${producto.imagenRuta == null}" id="fotoPreview" class="rounded-circle img-fluid" style="width: 80px; height: 80px; object-fit: cover; display:none;" />
                            </div>
                        </div>
                         
					</div>
					<div class="card-footer">
						<input type="submit" value="Guardar" class="btn btn-success" />
					</div>
				</div>
			</form>
		</div>
	</div>
	 <script src="funciones.js"></script>
</body>
</html>